<html>
<head>
  <title>Animation Deezer fullscreen</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="css/style.css">
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>
  <div class="fullplayer">
    <audio id="song" src="media/song.mp3" type="audio/mp3"></audio> 
    <div class="artwork-container"></div>
    <div class="lyrics-container anim">

    </div>
    <div class="micro-off">
    </div>
    <div class="micro-on">
    </div>
  </div>

  <script type="text/javascript">
    $( document ).ready(function() {

      var ID1 = $('#lyrics-1');
      var ID2 = $('#lyrics-2');
      var ID3 = $('#lyrics-3');
      var ID4 = $('#lyrics-4');
      var ID5 = $('#lyrics-5');
      var ID6 = $('#lyrics-6');
      var ID7 = $('#lyrics-7');
      var ID8 = $('#lyrics-8');
      var ID9 = $('#lyrics-9');
      var ID10 = $('#lyrics-10');
      var ID11 = $('#lyrics-11');
      var ID12 = $('#lyrics-12');
      var ID13 = $('#lyrics-13');
      var ID14 = $('#lyrics-14');
      var ID15 = $('#lyrics-15');
      var ID16 = $('#lyrics-16');
      var ID17 = $('#lyrics-17');
      var ID18 = $('#lyrics-18');
      var ID19 = $('#lyrics-19');
      var ID20 = $('#lyrics-20');
      var ID21 = $('#lyrics-21');
      var ID22 = $('#lyrics-22');
      var ID23 = $('#lyrics-23');
      var ID24 = $('#lyrics-24');
      var ID25 = $('#lyrics-25');
      var ID26 = $('#lyrics-26');
      var ID27 = $('#lyrics-27');
      var ID28 = $('#lyrics-28');
      var ID29 = $('#lyrics-29');
      var ID30 = $('#lyrics-30');
      var ID31 = $('#lyrics-31');
      var ID32 = $('#lyrics-32');
      var ID33 = $('#lyrics-33');
      var ID34 = $('#lyrics-34');
      var ID35 = $('#lyrics-35');
      var ID36 = $('#lyrics-36');
      var ID37 = $('#lyrics-37');
      var ID38 = $('#lyrics-38');
      var ID39 = $('#lyrics-39');
      var ID40 = $('#lyrics-40');
      var ID41 = $('#lyrics-41');
      var ID42 = $('#lyrics-42');
      var ID43 = $('#lyrics-43');
      var ID44 = $('#lyrics-44');
      var ID45 = $('#lyrics-45');
      var ID46 = $('#lyrics-46');
      var ID47 = $('#lyrics-47');
      var ID48 = $('#lyrics-48');
      var ID49 = $('#lyrics-49');
      var ID50 = $('#lyrics-50');
      var ID51 = $('#lyrics-51');
      var ID52 = $('#lyrics-52');
      var ID53 = $('#lyrics-53');
      var ID54 = $('#lyrics-54');
      var ID55 = $('#lyrics-55');
      var ID56 = $('#lyrics-56');
      var ID57 = $('#lyrics-57');
      var ID58 = $('#lyrics-58');


      var lyricsOff = $('.micro-off');
      var lyricsOn = $('.micro-on');
      var cover = $('.artwork-container');
      var lyrics = $('.lyrics-container');

      var transEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';

      var standardFade = function(firstElement, secondElement, firstTime, secondTime) {
        window.setTimeout(function() {
          firstElement.removeClass("unvisible-lines").addClass("second-line");
        }, firstTime);
        window.setTimeout(function() {
          firstElement.removeClass("second-line").addClass("current-line");
          secondElement.removeClass("unvisible-lines").addClass("second-line");
          secondElement.one(transEnd, function () {
            firstElement.addClass("finished");
          });
        }, secondTime);

        
      }

      var lyricsArray = [
        { previousMilliseconds: 0, milliseconds: 400, line: "Is this the real life?" },
        { previousMilliseconds: 400, milliseconds: 4650, line: "Is this just fantasy?" },
        { previousMilliseconds: 4650, milliseconds: 8040, line: "Caught in a landslide,"},
        { previousMilliseconds: 8040, milliseconds: 10960, line: "No escape from reality."},
        { previousMilliseconds: 10960, milliseconds: 15600, line: "Open your eyes"},
        { previousMilliseconds: 15600, milliseconds: 18580, line: "Look up to the skies and see"},
        { previousMilliseconds: 18580, milliseconds: 25860, line: "I'm just a poor boy, I need no sympathy"},
        { previousMilliseconds: 25860, milliseconds: 31460, line: "Because I'm easy come, easy go"},
        { previousMilliseconds: 31460, milliseconds: 35860, line: "A little high, little low"},
        { previousMilliseconds: 35860, milliseconds: 39260, line: "Anyway the wind blows, doesn't really matter to me, to me"},
        { previousMilliseconds: 39260, milliseconds: 56250, line: "Mama, just killed a man"},
        { previousMilliseconds: 56250, milliseconds: 62600, line: "Put a gun against his head"},
        { previousMilliseconds: 62600, milliseconds: 66050, line: "Pulled my trigger, now he's dead"},
        { previousMilliseconds: 66050, milliseconds: 69770, line: "Mama, life had just begun"},
        { previousMilliseconds: 69770, milliseconds: 76090, line: "But now I've gone and thrown it all away"},
        { previousMilliseconds: 76090, milliseconds: 83330, line: "Mama, ooo"},
        { previousMilliseconds: 83330, milliseconds: 89770, line: "Didn't mean to make you cry"},
        { previousMilliseconds: 89770, milliseconds: 93380, line: "If I'm not back again this time tomorrow"},
        { previousMilliseconds: 93380, milliseconds: 98120, line: "Carry on, carry on, as if nothing really matters"},
        { previousMilliseconds: 98120, milliseconds: 115560, line: "Too late, my time has come"},
        { previousMilliseconds: 115560, milliseconds: 121930, line: "Sends shivers down my spine"},
        { previousMilliseconds: 121930, milliseconds: 124920, line: "Body's aching all the time"},
        { previousMilliseconds: 124920, milliseconds: 129110, line: "Goodbye everybody I've got to go"},
        { previousMilliseconds: 129110, milliseconds: 135470, line: "Gotta leave you all behind and face the truth"},
        { previousMilliseconds: 135470, milliseconds: 142700, line: "Mama, ooo (anyway the wind blows)"},
        { previousMilliseconds: 142700, milliseconds: 149540, line: "I don't want to die"},
        { previousMilliseconds: 149540, milliseconds: 152710, line: "I sometimes wish I'd never been born at all"},
        { previousMilliseconds: 152710, milliseconds: 186700, line: "I see a little silhouetto of a man"},
        { previousMilliseconds: 186700, milliseconds: 189560, line: "Scaramouch, scaramouch will you do the Fandango?"},
        { previousMilliseconds: 189560, milliseconds: 193170, line: "Thunderbolt and lightning very very frightening me"},
        { previousMilliseconds: 193170, milliseconds: 196720, line: "Gallileo, Gallileo,"},
        { previousMilliseconds: 196720, milliseconds: 198310, line: "Gallileo, Gallileo,"},
        { previousMilliseconds: 198310, milliseconds: 199890, line: "Gallileo Figaro - Magnifico"},
        { previousMilliseconds: 199890, milliseconds: 203670, line: "But I'm just a poor boy and nobody loves me"},
        { previousMilliseconds: 203670, milliseconds: 206590, line: "He's just a poor boy from a poor family"},
        { previousMilliseconds: 206590, milliseconds: 209680, line: "Spare him his life from this monstrosity"},
        { previousMilliseconds: 209680, milliseconds: 214550, line: "Easy come easy go will you let me go"},
        { previousMilliseconds: 214550, milliseconds: 217350, line: "Bismillah! No we will not let you go - Let him go"},
        { previousMilliseconds: 217350, milliseconds: 221350, line: "Bismillah! We will not let you go - Let him go"},
        { previousMilliseconds: 221350, milliseconds: 224580, line: "Bismillah! We will not let you go - Let me go"},
        { previousMilliseconds: 224580, milliseconds: 226770, line: "Will not let you go let me go (never)"},
        { previousMilliseconds: 226770, milliseconds: 229290, line: "Never let you go let me go"},
        { previousMilliseconds: 229290, milliseconds: 230570, line: "Never let me go ooo"},
        { previousMilliseconds: 230570, milliseconds: 232410, line: "No, no, no, no, no, no, no"},
        { previousMilliseconds: 232410, milliseconds: 234890, line: "Oh mama mia, mama mia, mama mia let me go"},
        { previousMilliseconds: 234890, milliseconds: 238020, line: "Beelzebub has a devil put aside for me"},
        { previousMilliseconds: 238020, milliseconds: 242890, line: "For me"},
        { previousMilliseconds: 242890, milliseconds: 244560, line: "For me"},
        { previousMilliseconds: 244560, milliseconds: 255720, line: "So you think you can stone me and spit in my eye?"},
        { previousMilliseconds: 255720, milliseconds: 261760, line: "So you think you can love me and leave me to die?"},
        { previousMilliseconds: 261760, milliseconds: 266690, line: "Oh baby can't do this to me baby"},
        { previousMilliseconds: 266690, milliseconds: 273660, line: "Just gotta get out just gotta get right outta here"},
        { previousMilliseconds: 273660, milliseconds: 296120, line: "Ooh yeah, ooh yeah"},
        { previousMilliseconds: 296120, milliseconds: 315050, line: "Nothing really matters"},
        { previousMilliseconds: 315050, milliseconds: 316980, line: "Anyone can see"},
        { previousMilliseconds: 316980, milliseconds: 320480, line: "Nothing really matters nothing really matters to me"},
        { previousMilliseconds: 320480, milliseconds: 344420, line: "Anyway the wind blows"}
      ];

      lyricsOff.click(function() {
        for (var i=1; i<=58; i++) {
          $( ".lyrics-container" ).append( "<p class='unvisible-lines lyrics-default' id='lyrics-" + i + "' ></p>" );
        }

        lyricsArray.forEach(function(lyric, index) {
          var firstElement = $('#lyrics-' + (index + 1));
          var secondElement = $('#lyrics-' + (index + 2));
          firstElement.text( lyric["line"] );
          standardFade(firstElement, secondElement, lyric["previousMilliseconds"], lyric["milliseconds"]);
        });

        $('#song').get(0).play();

      });



      // From here
      lyricsOff.click(function(){
        lyricsOff.css("display", "none"); // Disparition icone off-mode
        lyricsOn.css("display", "block"); // Apparition icone on-mode
        cover.addClass("artwork-fade-out");

        cover.one(transEnd, function() {
          lyrics.addClass("lyrics-fade-in");
          cover.removeClass("artwork-fade-in");
          $( this ).off(transEnd);
        });
      });
      
      lyricsOn.click(function(){
        lyricsOn.css("display", "none"); // Disparition icone on-mode
        lyricsOff.css("display", "block"); // Apparition icone off-mode
        lyrics.addClass("lyrics-fade-out");
        lyrics.removeClass("lyrics-fade-in");
        
        lyrics.one(transEnd, function() {
          cover.addClass("artwork-fade-in");
          cover.removeClass("artwork-fade-out");
          lyrics.removeClass("lyrics-fade-out");
          $( this ).off(transEnd);
        });
      });
      // to here : code to switch from one mode to an other
      

    });
</script>
</body>
</html>